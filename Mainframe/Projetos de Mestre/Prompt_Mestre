Os Mestres usam "meta-instruções" (instruções sobre como executar a instrução) para guiar a IA.

## Atribuição de Persona e Definição de Saída (Os Atue como...)
    - Esta é a técnica mais poderosa. O Mestre define o especialista que a IA deve encarnar e o formato da resposta.

## Design de Solução:
    - Atue como um Arquiteto de Soluções Mainframe. Estou planejando modernizar um batch COBOL noturno que lê 20 milhões de registros e atualiza o DB2. A janela de processamento está muito curta. Me dê 3 opções de modernização, comparando-as em uma tabela com as colunas: 'Abordagem', 'Prós', 'Contras' e 'Nível de Esforço'.

##  Análise de Segurança:
    - Você é um especialista em segurança z/OS e RACF. Recebi um relatório de auditoria apontando uma falha de 'acesso indevido' a um dataset de produção. Analise este JCL de produção e esta regra RACF. Identifique em uma lista numerada as possíveis brechas de segurança e sugira a regra RACF corrigida. Não inclua explicações genéricas, foque apenas na análise.

## Geração de Documentação:
    - Eu vou fornecer um programa COBOL legado. Sua tarefa é atuar como um Analista de Negócios e documentar as regras de negócio que este programa executa. Foque em explicar *o que* o programa faz (a regra de negócio), e não *como* ele faz (o código). Gere a saída no formato Markdown. [Depois deste prompt, o usuário cola o código COBOL]

## Aprendizado por Exemplo (Os Siga este padrão...)
    - O Mestre ensina a IA a realizar uma tarefa repetitiva mostrando a ela um exemplo (técnica One-Shot ou Few-Shot).

## Modernização / Refatoração em Larga Escala:
    - Quero converter comandos CICS 'EXEC CICS' em chamadas de API. Siga o padrão abaixo: 
      Exemplo de Entrada (COBOL): EXEC CICS READ FILE('CLIENTES') RIDFLD(WS-CPF) INTO(REG-CLIENTE) END-EXEC. 
      Exemplo de Saída (Pseudocódigo API): CALL 'APICLIENT' USING 'GET', 'http://api/clientes/', WS-CPF, REG-CLIENTE.
    - Agora, converta o seguinte bloco de código usando EXATAMENTE o mesmo padrão: [Colar 10 ou 15 comandos CICS diferentes]`
    ## Criação de Dados de Teste:
        - Gere 10 registros de dados de teste (em formato de texto plano) para este COPYBOOK COBOL. Siga o layout exato. [Colar o COPYBOOK]

## Geração de Código a partir de Regras de Negócio
    - Este é o oposto de documentar código. Aqui, o Mestre descreve as regras de negócio (em linguagem natural) e pede à IA para gerar o código-fonte.

## COBOL:
    - Gere um programa COBOL completo (todas as DIVISIONs) que leia um arquivo de entrada (RECFM=FB, LRECL=80) e grave um arquivo de saída (RECFM=FB, LRECL=50). O programa deve seguir estas regras:
    - Ler o arquivo de entrada 'ARQENT'.
    - Se o campo 'TIPO-CLIENTE' (na posição 10, tamanho 2) for 'PF', gravar o 'NOME' (pos 12, tam 30) e o 'CPF' (pos 42, tam 11) no arquivo de saída 'ARQSAI'.
    - Se o 'TIPO-CLIENTE' for 'PJ', gravar o 'NOME' (pos 12, tam 30) e o 'CNPJ' (pos 53, tam 14) no arquivo de saída.
    - Ignorar todos os outros tipos de cliente.
    - O programa deve ter tratamento de erro completo para abertura, leitura e fechamento de ambos os arquivos usando 'FILE-STATUS'.`

## [Engenharia Reversa de Documentação]
       - Atue como um Analista de Sistemas sênior. Eu vou fornecer um programa COBOL legado completo. Sua tarefa é ler o código e gerar uma documentação em Markdown com as seguintes seções: 
       - 1. Resumo Funcional (o que o programa faz em termos de negócio). 
       - 2. Arquivos de Entrada (DDNAME e propósito). 
       - 3. Arquivos de Saída (DDNAME e propósito). 
       - 4. Tabelas DB2 Acessadas (Nome da tabela e tipo de acesso: SELECT, UPDATE, INSERT). 
       - 5. Lista das principais regras de negócio em bullet points. 
       -- Não explique o código COBOL, explique a regra de negócio por trás dele.

## [Análise de Performance DB2]
       - Você é um DBA DB2 especialista em performance (tunning). Analise este EXPLAIN de uma query SQL executada via COBOL. Identifique em uma lista numerada: 
            - 1. Por que o otimizador está escolhendo um 'Tablespace Scan' em vez do índice 'IX_CLIENTE_CPF'. 
            - 2. Qual estatística (RUNSTATS) provavelmente está desatualizada. 
            - 3. Sugira uma reescrita da query (mudando a ordem do 'WHERE' ou usando 'HINTS') para forçar o uso do índice. [Colar o EXPLAIN e a Query SQL aqui]

## [Geração de Código Baseado em Requisitos]
            - Gere um programa COBOL-CICS completo que funcione como um 'detalhe de cliente'. O programa deve: 
                - 1. Receber um 'ID de Cliente' via COMMAREA. 
                - 2. Fazer um 'EXEC CICS READ' no arquivo 'CLIENTES' (KSDS) usando o ID. 
                - 3. Se não encontrar (NOTFND), mover 'Cliente não existe' para o mapa. 
                - 4. Se encontrar, mover os campos 'NOME', 'ENDERECO' e 'TELEFONE' do registro para os campos de mapa 'NOME-MAP', 'END-MAP', 'TEL-MAP'. 
                - 5. Enviar o mapa 'MAPCLI1' para o terminal. O programa deve ser pseudoconversacional. Gere todo o código, incluindo a 'WORKING-STORAGE' para o mapa.

## [Refatoração Few-Shot (Aprendizado por Exemplo)]
       - Quero modernizar meu código COBOL, substituindo 'GO TO' por 'EVALUATE' estruturado. Siga exatamente este padrão:
            - [EXEMPLO DE ENTRADA]:
                - IF CAMPO-A = 'SP' GO TO 100-TRATA-SP.
                - IF CAMPO-A = 'RJ' GO TO 200-TRATA-RJ.
                - GO TO 900-TRATA-OUTROS.
            - [EXEMPLO DE SAÍDA]:
                - EVALUATE CAMPO-A
                - WHEN 'SP' PERFORM 100-TRATA-SP
                - WHEN 'RJ' PERFORM 200-TRATA-RJ
                - WHEN OTHER PERFORM 900-TRATA-OUTROS
                - END-EVALUATE.
       Agora, converta o seguinte bloco de código:
       [Colar o bloco de código legado com IFs e GO TOs]

## [Criação de Massa de Teste Complexa]
       - Com base neste COPYBOOK [Colar o COPYBOOK aqui], gere 50 registros de dados de teste em formato de texto plano. Siga estas regras: 
            - 1. O campo 'TIPO-REG' (PIC 99) deve ser '01', '02' ou '05'. 
            - 2. O campo 'VALOR-TRANSACAO' (PIC 9(7)V99 COMP-3) deve ter valores numéricos entre 100,00 e 5000,00. 
            - 3. O campo 'DATA-NASC' (PIC 9(8)) deve ser uma data válida no formato 'YYYYMMDD'. 
            - 4. O campo 'CPF' (PIC 9(11)) deve ser um número de CPF com dígito verificador válido.

## [Análise de Segurança RACF]
       - Atue como um Administrador de Segurança z/OS (RACF). Recebi este log de violação de acesso (SMF). O usuário 'USRDEV01' tentou acessar o dataset 'PROD.CLIENTES.ARQUIVO' e foi barrado. 
            - Analise este log e as regras RACF atuais do grupo 'DEV'. Explique qual regra causou a falha e qual regra permitiu a tentativa (se houver), e gere o comando 'PERMIT' exato necessário para dar acesso 'READ' a este usuário, mas apenas para este dataset específico.

## [Design de Modernização (API)]
       - Você é um Arquiteto de Soluções. Quero expor um programa batch COBOL como uma API assíncrona. O programa lê um arquivo de entrada e gera um relatório. 
            - Descreva, em uma tabela, 3 arquiteturas possíveis para fazer isso 
                (Ex: 1. API Gateway + MQ + JCL, 
                2. z/OS Connect, 
                3. Batch reescrito em Java). 
            - As colunas da tabela devem ser 'Abordagem', 'Prós', 'Contras' e 'Ferramentas z/OS Necessárias'.

## [Geração de JCL Complexo]
       - Gere um JCL para um JOB de produção. O JOB deve ter 4 STEPS: 
            - 1) STEP01: Deletar o arquivo de saída de ontem 'PROD.RELATORIO.D-1' (usando IEFBR14). 
            - 2) STEP02: Rodar um 'SORT' para ordenar o arquivo de transações 'PROD.TRANS.D0' (ordenar pela pos 5, tam 10, CH, A) e gravar em 'TEMP.SORTED'. 
            - 3) STEP03: Executar o programa COBOL 'RELAT001', que lê 'TEMP.SORTED' e grava em 'PROD.RELATORIO.D0'. 
            - 4) STEP04: Rodar apenas se o STEP03 falhar (COND=(4,LT,STEP03)), executando um programa de 'fallback' chamado 'ERRORELAT'.

## [Otimização de MIPS (CPU)]
       - Atue como um Analista de Performance (Sysprog). 
       - Este programa COBOL [Colar o código] está no topo da lista de consumo de MIPS da noite. 
       - Analise o código (focando nos 'PERFORM VARYING' e comandos 'INSPECT'/'UNSTRING') e sugira 3 otimizações de código específicas para reduzir o consumo de CPU. 
       - Explique por que sua sugestão economiza MIPS (ex: 'Trocar 'COMPUTE' por 'ADD' reduz conversão de dados').

## [Comparação Técnica CICS]
       - Compare o uso de 'Canais e Containers' CICS versus a 'COMMAREA' tradicional. 
            - Gere a resposta em formato de tabela, com as colunas: 'Característica' (Ex: Limite de Tamanho, Complexidade, Reuso), 'COMMAREA' e 'Canais & Containers'. No final, dê uma recomendação de quando usar cada um.
